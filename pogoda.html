<!doctype html>

<html lang="pl-PL">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bartosz Omiotek 113969</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="styles.css">
  <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>

<body>

  <div class="topnav">
   
    
    <a href="home.html" class="active"><img src="logo.png" alt="logo"></a>
 
    <!-- burger menu -->
    <div id="myLinks">
      <a href="home.html">Home</a>
      <a href="hasło.html">Bezpieczne hasło</a>
      <a href="waluta.html">Kursy walut</a>
      <a href="pogoda.html">Prognoza pogody</a>
      <a href="kontakt.html">Kontakt</a>
    </div>
    
    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
      <i class="fa fa-bars"></i>
    </a>
    <script>
      function myFunction() {
  var x = document.getElementById("myLinks");
  if (x.style.display === "block") {
    x.style.display = "none";
  } else {
    x.style.display = "block";
  }
}
    </script>
  </div>

<div class="container" role="main">
      <div class="headerpogoda">
          <p id="ramka2">Prognoza pogody</p>
      </div>
      <div class="content">
        <!-- api pogodowe -->
        <div class="pogoda-container">
          <h1>Aktualna Pogoda</h1>
  
          <form id="weather-form">
              <label for="city">Wprowadź miasto: </label>
              <input type="text" id="city" name="city" required>
              <button type="submit">Sprawdź pogodę</button>
          </form>
  
          <div id="weather-info"></div>
      </div>
  <script>
      // Dodanie zdarzenia, które zostanie uruchomione po pełnym załadowaniu strony
  document.addEventListener('DOMContentLoaded', function () {
    // Pobranie referencji do formularza o id 'weather-form' i elementu do wyświetlania informacji o pogodzie
    const form = document.getElementById('weather-form');
    const weatherInfoElement = document.getElementById('weather-info');

    // Dodanie obsługi zdarzenia dla formularza 
    form.addEventListener('submit', function (event) {
        event.preventDefault();
        // Pobranie wartości wprowadzonej lokalizacji
        const location = document.getElementById('city').value;
        // Utworzenie URL do zapytania o pogodę na podstawie wprowadzonej lokalizacji
        const apiUrl = `https://wttr.in/${location}?format=%t+%C+%w`;

        // Wykonanie zapytania do API pogodowego
        fetch(apiUrl)
            .then(response => response.text())
            .then(data => {
                // Wyświetlenie danych pogodowych w elemencie o id 'weather-info'
                weatherInfoElement.innerHTML = `<p>${data}</p>`;
            })
            .catch(error => {
                // Obsługa błędu w przypadku niepowodzenia pobierania danych pogodowych
                console.error('Błąd pobierania danych pogodowych:', error);
                // Wyświetlenie komunikatu o błędzie w elemencie o id 'weather-info'
                weatherInfoElement.innerHTML = '<p>Błąd pobierania danych pogodowych</p>';
            });
    });
});
</script>
      </div>
      <!-- koniec api pogodowego -->
    </div>
      <div id="footer" class="stopka">
      <h5>Bartosz Omiotek Gr: 6, Nr indeksu: 113969</h5>
      </div>   
        
    

</body>
</html>